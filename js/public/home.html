<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="format-detection" content="telephone=no" />
  <link rel="icon" href="images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="css/homecss.css">
  <title>HOME</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.css" rel="stylesheet">

  <!-- Links -->
  <link rel="stylesheet" href="css/camera.css">
  <link rel="stylesheet" href="css/search.css">
  <link rel="stylesheet" href="css/google-map.css">


  <!--JS-->
  <script src="js/jquery.js"></script>
  <script src="js/jquery-migrate-1.2.1.min.js"></script>
  <script src="js/rd-smoothscroll.min.js"></script>


  <!--[if lt IE 9]>
    <div style=' clear: both; text-align:center; position: relative;'>
        <a href="http://windows.microsoft.com/en-US/internet-explorer/..">
            <img src="images/ie8-panel/warning_bar_0000_us.jpg" border="0" height="42" width="820"
                 alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today."/>
        </a>
    </div>
    <script src="js/html5shiv.js"></script>
    <![endif]-->
  <script src='js/device.min.js'></script>
</head>

<body>
  <div class="page">
    <!--========================================================
                            HEADER
  =========================================================-->
    <header>
      <div class="container top-sect">
        <div class="navbar-header">
          <h1 class="navbar-brand">
            <a data-type='rd-navbar-brand' href="./">
              <p id="denominacion"></p>
            </a>
          </h1>
          <a class="search-form_toggle" href="#"></a>
        </div>

        <div class="help-box text-right">
          <p>Telefono</p>
          <a href="callto:#">      <p id="telefono"></p>
          </a>
          <small><span>Horario:</span> 6am-4pm PST M-Th; &nbsp;6am-3pm PST Fri</small>
        </div>
      </div>

      <div id="stuck_container" class="stuck_container">
        <div class="container">
          <nav class="navbar navbar-default navbar-static-top pull-left">
            <div class="">
              <ul class="nav navbar-nav sf-menu sf-js-enabled sf-arrows" data-type="navbar">
                <li style="list-style: none;" class="active">
                  <a href="home.html">INICIO</a>
                </li>
                <li style="list-style: none;">
                  <a href="index.html">LISTA EMPRESAS</a>
                </li>
              </ul>
            </div>
          </nav>
          <form class="search-form" action="buscador.html" method="GET" accept-charset="utf-8">
            <label class="search-form_label">
              <input class="search-form_input" type="text" name="buscar" autocomplete="off"
                placeholder="Ingrese Texto" />
              <span class="search-form_liveout"></span>
            </label>
            <button class="search-form_submit fa-search" type="submit"></button>
          </form>
        </div>
      </div>
    </header>

    <!--========================================================
                            CONTENT
  =========================================================-->

  <main>
    <div>
      <section class="well well1 well1_ins1">
        <div class="camera_container">
<<<<<<< HEAD
          <div id="camera" class="camera_wrap">
            <div data-src="js/public/64da02d34781f.png">
              <div class="camera_caption fadeIn">
=======
          <!-- <div id="camera" class="camera_wrap"> -->
            <div class="imagen_home">
              <div class="title">
>>>>>>> origin/main
                <div class="jumbotron jumbotron1">
                  <em>
                    <a href="detalle.html">Titulo Noticia</a>
                  </em>
                  <div class="wrap">
                    <p>
                      Resumen
                    </p>
                    <a href="detalle.html" class="btn-link fa-angle-right"></a>
                  </div>
                </div>
              </div>
              <img src="imagenes/page-1_slide1.jpg"> 
            </div>
            <div>
              <!-- <div class="camera_caption fadeIn">
                <div class="jumbotron jumbotron1">
                  <em>
                    <a href="detalle.html">Titulo Noticia</a>
                  </em>
                  <div class="wrap">
                    <p>
                      Resumen
                    </p>
                    <a href="detalle.html" class="btn-link fa-angle-right"></a>
                  </div>
                </div>
              </div> -->
            </div>
            
            <div data-src="images/page-1_slide3.jpg">
              <div class="camera_caption fadeIn">
                <div class="jumbotron">
                  <em>
                    Titulo Noticia
                  </em>
                  <div class="wrap">
                    <p>
                      Resumen
                    </p>
                    <a href="#" class="btn-link fa-angle-right"></a>
                  </div>
                </div>
              </div>
            </div>
          <!-- </div> -->
        </div>
      </section>

      <section class="well well2 wow fadeIn  bg1" data-wow-duration='3s'>
        <div class="container">
          <h2 class="txt-pr">
            Quienes Somos
          </h2>
          <div class="row">
            <div class="col">
              <p id="quienesSomos" style="text-align:justify">

              </p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

    <!--========================================================
                            FOOTER
  =========================================================-->
    <footer class="top-border">
      <section class="well well2 wow fadeIn  bg1" data-wow-duration='3s'>
        <div class="container">
          <h2 class="txt-pr">
            Donde estamos
          </h2>
        </div>
      </section>
      <div id="map" style="height: 400px;"></div>

      <script>
        function iniciarMap() {
          var coord = { lat: -32.88154997304907, lng: -68.83492456656404 };
          var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 15,
            center: coord
          });
          var marker = new google.maps.Marker({
            position: coord,
            map: map
          });
        }
      </script>
      <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCL4K_zdlTob_VSL_Y8sgQtWSlwSW5z-Ew&callback=iniciarMap"
        async defer></script>

      <section class="well1">
        <div class="container">
          <p class="rights">
            Denominación Empresa &#169; <span id="copyright-year"></span>
            <a href="index-5.html">Privacy Policy</a>
            <!-- {%FOOTER_LINK} -->
          </p>
        </div>
      </section>
    </footer>
  </div>


  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js"></script>
  <script src="js/tm-scripts.js"></script>
  <!-- </script> -->

  <script>
    function obtenerParametroDeURL(parametro) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(parametro);
    }

    const idEmpresa = obtenerParametroDeURL('id');

    fetch(`/empresas/${idEmpresa}`)
      .then(response => response.json())
      .then(data => {
        document.getElementById('denominacion').textContent = data.denominacion || 'Empresa no encontrada';
        document.getElementById('quienesSomos').textContent = data.quienesSomos || 'Descripción no disponible';
        document.getElementById('horario').textContent = data.horario || 'Horario no disponible';
        document.getElementById('telefono').textContent = data.telefono || 'Telefono no disponible';
        document.getElementById('latitud').textContent = data.Latitud;
        document.getElementById('longitud').textContent = data.Longitud;

        // Obtener la latitud y longitud de la empresa
        const latitud = parseFloat(data.Latitud);
        const longitud = parseFloat(data.Longitud);
        const coord = { lat: latitud, lng: longitud };

        // Inicializar el mapa
        const map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: coord
        });

        // Colocar un marcador en la ubicación de la empresa
        const marker = new google.maps.Marker({
          position: coord,
          map: map,
          title: data.Denominacion || 'Ubicación de la empresa'
        });
      })
      .catch(error => console.error('Error al obtener la información de la empresa:', error));
  </script>

</body>

</html>